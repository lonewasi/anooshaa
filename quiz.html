<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mixed Quiz â€” MCQ + Open Answers</title>

<style>
body {
  margin: 0;
  padding: 0;
  font-family: "Poppins", sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
  position: relative;
  background: linear-gradient(135deg, #ffe6f3, #fff0f5);
}

/* floating hearts */
.heart-bg {
  position: absolute;
  font-size: 20px;
  animation: floatHeart 8s linear infinite;
  opacity: 0;
}
@keyframes floatHeart {
  0% { transform: translateY(100vh) rotate(0deg); opacity:0; }
  50% { opacity:1; }
  100% { transform: translateY(-20vh) rotate(360deg); opacity:0; }
}

/* falling petals */
.petal {
  position: absolute;
  font-size: 22px;
  animation: fallPetal linear forwards;
}
@keyframes fallPetal {
  0% { transform: translateY(-50px) rotate(0deg); opacity:0; }
  50% { opacity:1; }
  100% { transform: translateY(100vh) rotate(360deg); opacity:0; }
}

/* quiz card */
#card {
  background: rgba(255,255,255,0.9);
  padding: 30px;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  max-width: 600px;
  width: 90%;
  z-index: 5;
  position: relative;
}

.option-btn {
  display: block;
  width: 100%;
  margin: 8px 0;
  padding: 10px;
  border-radius: 10px;
  border: none;
  background: #ff4da6;
  color: white;
  cursor: pointer;
  font-size: 14px;
  transition: transform 0.2s;
}
.option-btn:hover { transform: scale(1.05); }

.answer-input {
  width: 100%;
  margin: 8px 0;
  padding: 10px;
  border-radius: 10px;
  border: 2px solid #ff4da6;
  min-height: 60px;
}
#progress { color:#ff1493; margin-top:10px; }

/* popup */
#overlay {
  position: fixed;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  background: rgba(0,0,0,0.4);
  z-index: 999;
}

#alertBox {
  background: #fff;
  border-radius: 15px;
  padding: 25px;
  text-align: center;
  max-width: 400px;
}

.alert-btns {
  display: flex;
  justify-content: center;
  gap: 15px;
}

.alert-btn {
  padding: 10px 14px;
  border-radius: 8px;
  cursor: pointer;
  border: none;
}

#sentBtn { background:#ff4da6; color:white; }
#notSentBtn { background:#666; color:white; }

@keyframes shake {
  0%,100%{transform: translateX(0);}
  25%{transform: translateX(-5px);}
  50%{transform: translateX(5px);}
  75%{transform: translateX(-5px);}
}
</style>
</head>
<body>

<!-- QUIZ CARD -->
<div id="card">
  <h2 id="question"></h2>
  <div id="options"></div>
  <p id="progress"></p>
</div>

<!-- POPUP -->
<div id="overlay">
  <div id="alertBox">
    <p>Your answer:</p>
    <p id="typedAnswer" style="color:#ff1493;font-weight:bold;"></p>
    <p>Take screenshot & send on WhatsApp ðŸ˜˜</p>
    <div class="alert-btns">
      <button id="sentBtn" class="alert-btn">I sent ðŸ’Œ</button>
      <button id="notSentBtn" class="alert-btn">I won't ðŸ˜¤</button>
    </div>
  </div>
</div>

<!-- BACKGROUND MUSIC -->
<audio id="bgMusic" src="bg.mp3" autoplay loop muted></audio>

<script>
const music = document.getElementById("bgMusic");
music.muted = false;
music.play();

const quiz = [
  { q:"Tu Khush hai?", type:"mcq", opts:["Nhi","Haan"] },
  { q:"Kiss ya Hug?", type:"mcq", opts:["Kiss","Hug"] },
  { q:"Tu thodi pagal hai na?", type:"mcq", opts:["Haan","Nahi"] },
  { q:"Sabsay khoobsurat year?", type:"mcq", opts:["2015","2016","2025"] },
  { q:"Proof kya hai mai tumhara hoon?", type:"mcq", opts:["Pata nahi","Mai kehti hoon","Goli khaungi"] },
  { q:"Din me kitni baar yaad karti?", type:"mcq", opts:["5","10","Nahi karti","Kyu bolun","Hehe"] },
  { q:"Agar phn na uthau to?", type:"mcq", opts:["Normal","Satak jaati ho"] },
  { q:"Hum kafi hain ek duje ke liye?", type:"mcq", opts:["Haan","Nahi pata"] },

  { q:"Tum mujhe sone nahi deti kyun?", type:"input" },
  { q:"Tum kab kab natak karti ho?", type:"input" },
  { q:"Sabse zyada pyaar kab aata hai?", type:"input" },
  { q:"Phone uthate hi kya bolti ho?", type:"input" },
  { q:"Tumhare dushman kaun?", type:"input" },
  { q:"Tum mujhe kya kehna chahti ho?", type:"input" },
  { q:"Superhero bano to power kya hogi?", type:"input" },
  { q:"Hum dono me se drama king/queen?", type:"input" },
  { q:"Funniest memory?", type:"input" },
];

let idx = 0;

// floating hearts
function createHearts(){
  const h = document.createElement("div");
  h.className="heart-bg";
  h.textContent="ðŸ’–";
  h.style.left = Math.random()*90+"%";
  h.style.animationDuration = (5+Math.random()*5)+"s";
  document.body.appendChild(h);
}

// falling petals
function spawnPetal(){
  const p = document.createElement("div");
  p.className="petal";
  p.textContent="ðŸŒ¸";
  p.style.left = Math.random()*100+"%";
  p.style.animationDuration = (4+Math.random()*4)+"s";
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),8000);
}

// show question
function showQ(){
  if(idx >= quiz.length){
    document.getElementById("question").textContent = "I LOVE YOU ANOOSHA ðŸ’ž";
    document.getElementById("options").innerHTML="";
    document.getElementById("progress").textContent="";
    return;
  }

  const q = quiz[idx];
  qEl.textContent = q.q;
  optsEl.innerHTML = "";

  if(q.type === "mcq"){
    q.opts.forEach(o=>{
      const b = document.createElement("button");
      b.className = "option-btn";
      b.textContent = o;
      b.onclick = ()=>showPopup(o);
      optsEl.appendChild(b);
    });
  } else {
    const ta = document.createElement("textarea");
    ta.className="answer-input";
    optsEl.appendChild(ta);

    const sb = document.createElement("button");
    sb.textContent="Submit";
    sb.className="option-btn";
    sb.onclick = ()=> showPopup(ta.value);
    optsEl.appendChild(sb);
  }

  progEl.textContent = `Question ${idx+1} / ${quiz.length}`;
}

// popup
function showPopup(ans){
  if(ans.trim() === "") return;

  typedAnswer.textContent = ans;
  overlay.style.display="flex";

  sentBtn.onclick = ()=>{
    overlay.style.display="none";
    idx++;
    showQ();
  };

  notSentBtn.onclick = ()=>{
    notSentBtn.style.animation="shake .5s";
    setTimeout(()=>notSentBtn.style.animation="",400);
  };
}

const qEl = document.getElementById("question");
const optsEl = document.getElementById("options");
const progEl = document.getElementById("progress");
const overlay = document.getElementById("overlay");
const typedAnswer = document.getElementById("typedAnswer");
const sentBtn = document.getElementById("sentBtn");
const notSentBtn = document.getElementById("notSentBtn");

// run
setInterval(createHearts,500);
setInterval(spawnPetal,250);
showQ();
</script>

</body>
</html>
